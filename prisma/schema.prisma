generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

model Account {
  id                String  @id
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?
  User              User    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
  @@index([userId])
}

model Activity {
  id              String            @id
  name            String
  slug            String            @unique
  description     String?
  category        String
  duration        String?
  minAge          Int?
  maxGroupSize    Int?
  difficulty      String?
  pricePerPerson  Float?
  pricePerGroup   Float?
  currency        String            @default("AED")
  cityId          String
  countryId       String
  meetingPoint    String?
  latitude        Float?
  longitude       Float?
  included        Json?
  notIncluded     Json?
  whatToBring     Json?
  availableDays   Json?
  startTimes      Json?
  images          Json?
  video           String?
  metaTitle       String?
  metaDescription String?
  views           Int               @default(0)
  bookings        Int               @default(0)
  rating          Float?
  isActive        Boolean           @default(true)
  isFeatured      Boolean           @default(false)
  isAvailable     Boolean           @default(true)
  createdAt       DateTime          @default(now())
  updatedAt       DateTime
  City            City              @relation(fields: [cityId], references: [id])
  Country         Country           @relation(fields: [countryId], references: [id])
  ActivityBooking ActivityBooking[]

  @@index([category])
  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([slug])
}

model AdClick {
  id         String     @id
  adId       String
  ipAddress  String?
  userAgent  String?
  createdAt  DateTime   @default(now())
  ProviderAd ProviderAd @relation(fields: [adId], references: [id], onDelete: Cascade)

  @@index([adId])
}

model AdImpression {
  id         String     @id
  adId       String
  ipAddress  String?
  userAgent  String?
  createdAt  DateTime   @default(now())
  ProviderAd ProviderAd @relation(fields: [adId], references: [id], onDelete: Cascade)

  @@index([adId])
}

model ApiKey {
  id           String      @id
  providerId   String
  keyName      String
  encryptedKey String
  environment  String      @default("production")
  isActive     Boolean     @default(true)
  lastUsedAt   DateTime?
  createdAt    DateTime    @default(now())
  ApiProvider  ApiProvider @relation(fields: [providerId], references: [id], onDelete: Cascade)
  ApiUsage     ApiUsage[]

  @@unique([providerId, keyName])
  @@index([providerId])
}

model ApiProvider {
  id          String   @id
  name        String   @unique
  displayName String
  category    String
  baseUrl     String?
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  ApiKey      ApiKey[]

  @@index([category])
  @@index([name])
}

model ApiUsage {
  id              String   @id
  apiKeyId        String
  date            DateTime @db.Date
  totalRequests   Int      @default(0)
  successRequests Int      @default(0)
  errorRequests   Int      @default(0)
  totalTokens     Int      @default(0)
  estimatedCost   Float    @default(0)
  createdAt       DateTime @default(now())
  ApiKey          ApiKey   @relation(fields: [apiKeyId], references: [id], onDelete: Cascade)

  @@unique([apiKeyId, date])
  @@index([apiKeyId])
  @@index([date])
}

model Appointment {
  id         String   @id
  userId     String
  providerId String?
  serviceId  String?
  date       DateTime
  startTime  String
  endTime    String
  status     String   @default("pending")
  notes      String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  User       User     @relation(fields: [userId], references: [id])

  @@index([date])
  @@index([status])
  @@index([userId])
}

model AuditLog {
  id         String   @id
  userId     String?
  action     String
  entityType String?
  entityId   String?
  oldData    Json?
  newData    Json?
  ipAddress  String?
  userAgent  String?
  createdAt  DateTime @default(now())

  @@index([action])
  @@index([createdAt])
  @@index([userId])
}

model Availability {
  id         String   @id
  providerId String?
  dayOfWeek  Int
  startTime  String
  endTime    String
  isActive   Boolean  @default(true)
  createdAt  DateTime @default(now())

  @@index([dayOfWeek])
  @@index([providerId])
}

model BlogCategory {
  id          String     @id
  name        String
  slug        String     @unique
  description String?
  isActive    Boolean    @default(true)
  createdAt   DateTime   @default(now())
  BlogPost    BlogPost[]

  @@index([slug])
}

model BlogComment {
  id        String   @id
  postId    String
  userId    String?
  name      String
  email     String
  content   String
  status    String   @default("pending")
  createdAt DateTime @default(now())
  BlogPost  BlogPost @relation(fields: [postId], references: [id], onDelete: Cascade)

  @@index([postId])
  @@index([status])
}

model BlogPost {
  id           String        @id
  title        String
  slug         String        @unique
  content      String
  excerpt      String?
  coverImage   String?
  categoryId   String
  authorId     String?
  status       String        @default("draft")
  views        Int           @default(0)
  publishedAt  DateTime?
  createdAt    DateTime      @default(now())
  updatedAt    DateTime
  BlogComment  BlogComment[]
  BlogCategory BlogCategory  @relation(fields: [categoryId], references: [id])

  @@index([categoryId])
  @@index([slug])
  @@index([status])
}

model Booking {
  id                   String                 @id
  userId               String
  providerId           String?
  serviceId            String?
  type                 String
  startDate            DateTime
  endDate              DateTime
  totalPrice           Float
  currency             String                 @default("USD")
  status               String                 @default("pending")
  notes                String?
  createdAt            DateTime               @default(now())
  updatedAt            DateTime
  User                 User                   @relation(fields: [userId], references: [id])
  BookingPayment       BookingPayment[]
  BookingStatusHistory BookingStatusHistory[]

  @@index([startDate])
  @@index([status])
  @@index([userId])
}

model BookingPayment {
  id            String   @id
  bookingId     String
  amount        Float
  currency      String   @default("USD")
  method        String
  status        String   @default("pending")
  transactionId String?
  createdAt     DateTime @default(now())
  Booking       Booking  @relation(fields: [bookingId], references: [id], onDelete: Cascade)

  @@index([bookingId])
  @@index([status])
}

model BookingStatusHistory {
  id        String   @id
  bookingId String
  status    String
  note      String?
  createdAt DateTime @default(now())
  Booking   Booking  @relation(fields: [bookingId], references: [id], onDelete: Cascade)

  @@index([bookingId])
}

model CacheEntry {
  id        String   @id
  key       String   @unique
  value     String
  ttl       Int
  expiresAt DateTime
  createdAt DateTime @default(now())

  @@index([expiresAt])
  @@index([key])
}

model CacheStats {
  id        String   @id
  date      DateTime @unique @db.Date
  hits      Int      @default(0)
  misses    Int      @default(0)
  sets      Int      @default(0)
  deletes   Int      @default(0)
  createdAt DateTime @default(now())

  @@index([date])
}

model CardTemplate {
  id        String   @id
  name      String
  slug      String   @unique
  variant   String
  config    Json
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())

  @@index([slug])
}

model Category {
  id                  String                @id
  name                String
  slug                String                @unique
  description         String?
  icon                String?
  image               String?
  parentId            String?
  order               Int                   @default(0)
  isActive            Boolean               @default(true)
  createdAt           DateTime              @default(now())
  updatedAt           DateTime
  Category            Category?             @relation("CategoryToCategory", fields: [parentId], references: [id])
  other_Category      Category[]            @relation("CategoryToCategory")
  CategoryTranslation CategoryTranslation[]
  Service             Service[]

  @@index([isActive])
  @@index([order])
  @@index([parentId])
  @@index([slug])
}

model CategoryTranslation {
  id          String   @id
  categoryId  String
  locale      String
  name        String
  description String?
  Category    Category @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@unique([categoryId, locale])
  @@index([categoryId])
  @@index([locale])
}

model ChatbotConversation {
  id              String           @id
  chatbotId       String
  userId          String?
  sessionId       String
  status          String           @default("active")
  createdAt       DateTime         @default(now())
  updatedAt       DateTime
  ProviderChatbot ProviderChatbot  @relation(fields: [chatbotId], references: [id], onDelete: Cascade)
  ChatbotMessage  ChatbotMessage[]

  @@index([chatbotId])
  @@index([sessionId])
}

model ChatbotMessage {
  id                  String              @id
  conversationId      String
  role                String
  content             String
  createdAt           DateTime            @default(now())
  ChatbotConversation ChatbotConversation @relation(fields: [conversationId], references: [id], onDelete: Cascade)

  @@index([conversationId])
}

model City {
  id               String             @id
  countryId        String
  regionId         String?
  name             String
  slug             String
  latitude         Float?
  longitude        Float?
  isActive         Boolean            @default(true)
  createdAt        DateTime           @default(now())
  updatedAt        DateTime
  description      String?
  districtId       String?
  icon             String?
  images           String[]
  keywords         String[]
  metaDescription  String?
  metaTitle        String?
  nameAf           String?
  nameAr           String?
  nameDe           String?
  nameEs           String?
  nameFr           String?
  nameIt           String?
  nameJa           String?
  nameKo           String?
  nameNo           String?
  namePt           String?
  nameRu           String?
  nameTh           String?
  nameTl           String?
  nameTr           String?
  nameVi           String?
  thumbnail        String?
  Activity         Activity[]
  Area             Area[]
  Country          Country            @relation(fields: [countryId], references: [id])
  Region           Region?            @relation(fields: [regionId], references: [id])
  Coach            Coach[]
  Doctor           Doctor[]
  Event            Event[]
  Lawyer           Lawyer[]
  Maid             Maid[]
  Property         Property[]
  Provider         Provider[]
  ProviderLocation ProviderLocation[]
  RentalCar        RentalCar[]
  RentalMotorbike  RentalMotorbike[]
  Supplier         Supplier[]
  Transfer         Transfer[]
  Yacht            Yacht[]
  CleaningService  CleaningService[]
  scooters         Scooter[]

  @@unique([countryId, slug])
  @@index([countryId])
  @@index([regionId])
  @@index([slug])
}

model State {
  id        String   @id @default(cuid())
  countryId String
  name      String
  code      String?
  slug      String
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  country  Country    @relation(fields: [countryId], references: [id])
  Property Property[]

  @@unique([countryId, slug])
  @@index([countryId])
  @@index([slug])
}

model Area {
  id        String   @id @default(cuid())
  cityId    String
  name      String
  slug      String
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  city     City       @relation(fields: [cityId], references: [id])
  Property Property[]

  @@unique([cityId, slug])
  @@index([cityId])
  @@index([slug])
}

model Coach {
  id              String         @id
  name            String
  slug            String         @unique
  title           String
  bio             String?
  mainCategory    String
  specializations Json?
  tags            Json?
  experience      Int
  education       Json?
  certifications  Json?
  achievements    Json?
  languages       Json?
  coachingFormats Json?
  targetAudience  Json?
  clientLevels    Json?
  sessionFee      Float?
  hourlyRate      Float?
  packagePricing  Json?
  currency        String         @default("THB")
  cityId          String
  countryId       String
  locations       Json?
  latitude        Float?
  longitude       Float?
  availableDays   Json?
  workingHours    Json?
  bookingTypes    Json?
  email           String?
  phone           String?
  website         String?
  instagram       String?
  facebook        String?
  image           String?
  images          Json?
  video           String?
  totalClients    Int            @default(0)
  successRate     Float?
  rating          Float?
  reviewCount     Int            @default(0)
  views           Int            @default(0)
  programs        Json?
  metaTitle       String?
  metaDescription String?
  isActive        Boolean        @default(true)
  isFeatured      Boolean        @default(false)
  isVerified      Boolean        @default(true)
  isAvailable     Boolean        @default(true)
  acceptsOnline   Boolean        @default(true)
  acceptsInPerson Boolean        @default(true)
  createdAt       DateTime       @default(now())
  updatedAt       DateTime
  City            City           @relation(fields: [cityId], references: [id])
  Country         Country        @relation(fields: [countryId], references: [id])
  CoachBooking    CoachBooking[]

  @@index([acceptsOnline])
  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([mainCategory])
  @@index([slug])
}

model Country {
  id              String            @id
  code            String            @unique
  name            String
  flag            String?
  isActive        Boolean           @default(true)
  createdAt       DateTime          @default(now())
  updatedAt       DateTime
  currency        String?
  description     String?
  dialCode        String?
  icon            String?
  images          String[]
  keywords        String[]
  latitude        Float?
  longitude       Float?
  metaDescription String?
  metaTitle       String?
  nameAf          String?
  nameAr          String?
  nameDe          String?
  nameEs          String?
  nameFr          String?
  nameIt          String?
  nameJa          String?
  nameKo          String?
  nameNo          String?
  namePt          String?
  nameRu          String?
  nameTh          String?
  nameTl          String?
  nameTr          String?
  nameVi          String?
  slug            String?           @unique
  thumbnail       String?
  currencyId      String?
  Activity        Activity[]
  City            City[]
  Coach           Coach[]
  Currency        Currency?         @relation(fields: [currencyId], references: [id])
  Doctor          Doctor[]
  Event           Event[]
  Lawyer          Lawyer[]
  Maid            Maid[]
  Property        Property[]
  Provider        Provider[]
  Region          Region[]
  RentalCar       RentalCar[]
  RentalMotorbike RentalMotorbike[]
  State           State[]
  Supplier        Supplier[]
  Transfer        Transfer[]
  Yacht           Yacht[]
  CleaningService CleaningService[]
  scooters        Scooter[]

  @@index([code])
  @@index([currencyId])
  @@index([isActive])
  @@index([slug])
}

model Currency {
  id            String  @id @default(cuid())
  code          String  @unique
  name          String
  symbol        String
  decimalPlaces Int     @default(2)
  isActive      Boolean @default(true)
  isDefault     Boolean @default(false)
  displayOrder  Int     @default(0)

  // Relations
  Country           Country[]
  exchangeRatesFrom ExchangeRate[] @relation("FromCurrency")
  exchangeRatesTo   ExchangeRate[] @relation("ToCurrency")
  Property          Property[]
  FloorPlan         FloorPlan[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([code])
  @@index([isActive])
  @@index([isDefault])
}

model ExchangeRate {
  id String @id @default(cuid())

  fromCurrencyId String
  fromCurrency   Currency @relation("FromCurrency", fields: [fromCurrencyId], references: [id], onDelete: Cascade)

  toCurrencyId String
  toCurrency   Currency @relation("ToCurrency", fields: [toCurrencyId], references: [id], onDelete: Cascade)

  rate   Float
  source String @default("manual")

  lastUpdated DateTime @default(now())
  createdAt   DateTime @default(now())

  @@unique([fromCurrencyId, toCurrencyId])
  @@index([fromCurrencyId])
  @@index([toCurrencyId])
  @@index([lastUpdated])
}

model Theme {
  id          String   @id @default(cuid())
  name        String
  slug        String   @unique
  description String?
  isDefault   Boolean  @default(false)
  isActive    Boolean  @default(true)
  config      Json
  preview     String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([slug])
  @@index([isDefault])
  @@index([isActive])
}

model RouteConfig {
  id          String        @id @default(cuid())
  key         String        @unique
  path        String
  title       Json
  description Json?
  menu        String        @default("none")
  group       String?
  order       Int           @default(0)
  isVisible   Boolean       @default(true)
  isSystem    Boolean       @default(false)
  icon        String?
  badge       String?
  requireAuth Boolean       @default(false)
  roles       Json?
  metaTitle   Json?
  metaDesc    Json?
  parentId    String?
  parent      RouteConfig?  @relation("RouteHierarchy", fields: [parentId], references: [id], onDelete: SetNull)
  children    RouteConfig[] @relation("RouteHierarchy")
  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt

  @@index([key])
  @@index([menu])
  @@index([order])
  @@index([isVisible])
  @@index([parentId])
}

model Doctor {
  id                   String    @id
  slug                 String    @unique
  firstName            String
  lastName             String
  title                String
  gender               String
  dateOfBirth          DateTime?
  photo                String?
  specialty            String
  subSpecialties       Json
  licenseNumber        String    @unique
  yearsOfExperience    Int
  education            Json
  certifications       Json
  languages            Json
  clinicName           String?
  clinicAddress        String?
  cityId               String
  countryId            String
  consultationFee      Float
  acceptsInsurance     Boolean   @default(false)
  insuranceProviders   Json?
  workingDays          Json
  workingHours         Json
  consultationDuration Int       @default(30)
  breakTime            Json?
  services             Json
  treatmentAreas       Json
  phone                String
  email                String
  whatsapp             String?
  website              String?
  video                String?
  gallery              Json?
  rating               Float     @default(0)
  reviewCount          Int       @default(0)
  totalPatients        Int       @default(0)
  totalAppointments    Int       @default(0)
  isVerified           Boolean   @default(false)
  isPremium            Boolean   @default(false)
  acceptsOnlineBooking Boolean   @default(true)
  acceptsVideoConsult  Boolean   @default(false)
  metaTitle            String?
  metaDescription      String?
  isActive             Boolean   @default(true)
  isAcceptingPatients  Boolean   @default(true)
  createdAt            DateTime  @default(now())
  updatedAt            DateTime
  City                 City      @relation(fields: [cityId], references: [id])
  Country              Country   @relation(fields: [countryId], references: [id])

  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isPremium])
  @@index([isVerified])
  @@index([rating])
  @@index([slug])
  @@index([specialty])
}

// Old DoctorAppointment, DoctorAvailability, DoctorReview removed
// New DoctorAppointment with Provider relation is at the end of the file

model Event {
  id                   String              @id
  title                String
  slug                 String              @unique
  description          String              @db.Text
  shortDescription     String?
  coverImage           String?
  images               Json?
  categoryId           String
  eventType            String
  startDate            DateTime
  endDate              DateTime
  locationType         String
  venueName            String?
  venueAddress         String?
  countryId            String?
  cityId               String?
  regionId             String?
  meetingUrl           String?
  capacity             Int?
  isFree               Boolean             @default(true)
  isPaid               Boolean             @default(false)
  ticketPrice          Float?
  currency             String              @default("AED")
  dressCode            String?
  organizerName        String?
  organizerEmail       String?
  organizerPhone       String?
  organizerWebsite     String?
  venueDetails         Json?
  requiresApproval     Boolean             @default(false)
  maxAttendees         Int?
  registrationDeadline DateTime?
  tags                 Json?
  metaTitle            String?
  metaDescription      String?
  // Additional fields
  highlights           Json? // Event highlights/key points
  faq                  Json? // FAQ array [{question, answer}]
  refundPolicy         String?             @db.Text
  ageRestriction       String? // e.g., "18+", "All ages", "21+"
  language             String?             @default("English")
  eventLanguages       Json? // Multiple languages
  socialLinks          Json? // {facebook, twitter, linkedin, instagram}
  videoUrl             String? // Promo video
  latitude             Float?
  longitude            Float?
  // Status fields
  status               String              @default("draft")
  isActive             Boolean             @default(true)
  isFeatured           Boolean             @default(false)
  views                Int                 @default(0)
  totalRegistrations   Int                 @default(0)
  createdAt            DateTime            @default(now())
  updatedAt            DateTime
  EventCategory        EventCategory       @relation(fields: [categoryId], references: [id])
  City                 City?               @relation(fields: [cityId], references: [id])
  Country              Country?            @relation(fields: [countryId], references: [id])
  Region               Region?             @relation(fields: [regionId], references: [id])
  EventRegistration    EventRegistration[]
  EventSchedule        EventSchedule[]
  EventSpeaker         EventSpeaker[]
  EventTicket          EventTicket[]

  @@index([categoryId])
  @@index([slug])
  @@index([startDate])
  @@index([status])
  @@index([isPaid])
  @@index([isFeatured])
}

model EventCategory {
  id          String   @id
  name        String
  slug        String   @unique
  description String?
  icon        String?
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime
  Event       Event[]

  @@index([isActive])
  @@index([slug])
}

model EventRegistration {
  id                 String       @id
  registrationNumber String       @unique
  eventId            String
  ticketId           String?
  userId             String?
  firstName          String
  lastName           String
  email              String
  phone              String?
  quantity           Int          @default(1)
  totalPrice         Float        @default(0)
  status             String       @default("pending")
  qrCode             String?
  checkedInAt        DateTime?
  createdAt          DateTime     @default(now())
  Event              Event        @relation(fields: [eventId], references: [id], onDelete: Cascade)
  EventTicket        EventTicket? @relation(fields: [ticketId], references: [id])
  User               User?        @relation(fields: [userId], references: [id])

  @@index([email])
  @@index([eventId])
  @@index([registrationNumber])
}

model EventSchedule {
  id          String   @id
  eventId     String
  title       String
  description String?
  startTime   DateTime
  endTime     DateTime
  location    String?
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  Event       Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)

  @@index([eventId])
}

model EventSpeaker {
  id        String   @id
  eventId   String
  name      String
  title     String?
  bio       String?
  photo     String?
  order     Int      @default(0)
  createdAt DateTime @default(now())
  Event     Event    @relation(fields: [eventId], references: [id], onDelete: Cascade)

  @@index([eventId])
}

model EventTicket {
  id                String              @id
  eventId           String
  name              String
  price             Float               @default(0)
  currency          String              @default("USD")
  quantity          Int?
  quantitySold      Int                 @default(0)
  isActive          Boolean             @default(true)
  createdAt         DateTime            @default(now())
  EventRegistration EventRegistration[]
  Event             Event               @relation(fields: [eventId], references: [id], onDelete: Cascade)

  @@index([eventId])
}

model Favorite {
  id         String   @id
  userId     String
  entityType String
  entityId   String
  createdAt  DateTime @default(now())
  User       User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([userId, entityType, entityId])
  @@index([userId])
}

model Footer {
  id        String   @id
  name      String
  config    Json
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([isActive])
}

model FooterContent {
  id           String   @id
  locale       String   @unique
  platformName String?
  tagline      String?
  copyright    String?
  sections     Json?
  newsletter   Json?
  legal        Json?
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime

  @@index([isActive])
  @@index([locale])
}

model FormSubmission {
  id           String       @id
  formId       String
  data         Json
  ipAddress    String?
  userAgent    String?
  createdAt    DateTime     @default(now())
  ProviderForm ProviderForm @relation(fields: [formId], references: [id], onDelete: Cascade)

  @@index([formId])
}

model Header {
  id        String   @id
  name      String
  logo      String?
  config    Json
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([isActive])
}

model Language {
  id          String        @id
  code        String        @unique
  name        String
  nativeName  String
  isRTL       Boolean       @default(false)
  isActive    Boolean       @default(true)
  order       Int           @default(0)
  createdAt   DateTime      @default(now())
  Translation Translation[]

  @@index([code])
  @@index([isActive])
}

model Lawyer {
  id              String   @id
  name            String
  slug            String   @unique
  title           String
  bio             String?
  specialization  String
  experience      Int
  education       Json?
  certifications  Json?
  languages       Json?
  practiceAreas   Json?
  consultationFee Float?
  hourlyRate      Float?
  currency        String   @default("THB")
  cityId          String
  countryId       String
  officeAddress   String?
  latitude        Float?
  longitude       Float?
  email           String?
  phone           String?
  website         String?
  availableDays   Json?
  workingHours    Json?
  image           String?
  images          Json?
  video           String?
  casesHandled    Int      @default(0)
  successRate     Float?
  rating          Float?
  reviewCount     Int      @default(0)
  views           Int      @default(0)
  metaTitle       String?
  metaDescription String?
  isActive        Boolean  @default(true)
  isFeatured      Boolean  @default(false)
  isVerified      Boolean  @default(true)
  isAvailable     Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime
  City            City     @relation(fields: [cityId], references: [id])
  Country         Country  @relation(fields: [countryId], references: [id])

  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([slug])
  @@index([specialization])
}

model Lead {
  id           String         @id
  providerId   String
  name         String
  email        String
  phone        String?
  message      String?
  source       String?
  status       String         @default("new")
  countryId    String?
  cityId       String?
  createdAt    DateTime       @default(now())
  updatedAt    DateTime
  Provider     Provider       @relation(fields: [providerId], references: [id], onDelete: Cascade)
  LeadActivity LeadActivity[]

  @@index([email])
  @@index([providerId])
  @@index([status])
}

model LeadActivity {
  id          String   @id
  leadId      String
  type        String
  description String?
  createdAt   DateTime @default(now())
  Lead        Lead     @relation(fields: [leadId], references: [id], onDelete: Cascade)

  @@index([leadId])
}

model Maid {
  id                          String        @id
  name                        String
  slug                        String        @unique
  refNo                       String?       @unique
  nationality                 String
  dateOfBirth                 DateTime?
  placeOfBirth                String?
  age                         Int
  sex                         String        @default("Female")
  height                      Int?
  weight                      Int?
  complexion                  String?
  religion                    String?
  maritalStatus               String?
  numberOfChildren            Int           @default(0)
  qualification               String?
  englishLevel                String?
  arabicLevel                 String?
  otherLanguages              Json?
  passportNo                  String?
  passportExpiry              DateTime?
  passportIssuePlace          String?
  yearsOfExperience           Int           @default(0)
  experienceCountry           String?
  currentLocation             String?
  contractType                String?
  monthlyFee                  Float?
  currency                    String        @default("AED")
  availableFrom               DateTime?
  elderlyCare                 Boolean       @default(false)
  specialNeedsCare            Boolean       @default(false)
  babysittingOlderThan1Year   Boolean       @default(false)
  babysittingYoungerThan1Year Boolean       @default(false)
  cookingSyrianLebanese       Boolean       @default(false)
  cookingGulf                 Boolean       @default(false)
  cookingInternational        Boolean       @default(false)
  cookingOther                Json?
  privateRoom                 Boolean       @default(false)
  liveOut                     Boolean       @default(false)
  workingOnDayOff             Boolean       @default(false)
  hasCat                      Boolean       @default(false)
  hasDog                      Boolean       @default(false)
  image                       String?
  images                      Json?
  video                       String?
  cv                          String?
  cityId                      String
  countryId                   String
  latitude                    Float?
  longitude                   Float?
  phone                       String?
  email                       String?
  whatsapp                    String?
  notes                       String?
  duties                      Json?
  metaTitle                   String?
  metaDescription             String?
  isActive                    Boolean       @default(true)
  isFeatured                  Boolean       @default(false)
  isVerified                  Boolean       @default(true)
  isAvailable                 Boolean       @default(true)
  views                       Int           @default(0)
  inquiries                   Int           @default(0)
  createdAt                   DateTime      @default(now())
  updatedAt                   DateTime
  City                        City          @relation(fields: [cityId], references: [id])
  Country                     Country       @relation(fields: [countryId], references: [id])
  MaidBooking                 MaidBooking[]

  @@index([cityId])
  @@index([contractType])
  @@index([countryId])
  @@index([isActive])
  @@index([isAvailable])
  @@index([isFeatured])
  @@index([nationality])
  @@index([refNo])
  @@index([slug])
}

model Media {
  id           String       @id
  filename     String
  originalName String
  mimeType     String
  size         Int
  width        Int?
  height       Int?
  url          String
  thumbnailUrl String?
  alt          String?
  title        String?
  folderId     String?
  uploadedBy   String?
  createdAt    DateTime     @default(now())
  MediaFolder  MediaFolder? @relation(fields: [folderId], references: [id])
  MediaTag     MediaTag[]

  // Property Relations
  PropertyMedia    PropertyMedia[]
  PropertyDocument PropertyDocument[]
  FloorPlan        FloorPlan[]

  @@index([folderId])
  @@index([mimeType])
}

model MediaFolder {
  id                String        @id
  name              String
  parentId          String?
  createdAt         DateTime      @default(now())
  Media             Media[]
  MediaFolder       MediaFolder?  @relation("MediaFolderToMediaFolder", fields: [parentId], references: [id])
  other_MediaFolder MediaFolder[] @relation("MediaFolderToMediaFolder")

  @@index([parentId])
}

model MediaTag {
  id      String @id
  mediaId String
  tag     String
  Media   Media  @relation(fields: [mediaId], references: [id], onDelete: Cascade)

  @@unique([mediaId, tag])
  @@index([mediaId])
  @@index([tag])
}

model Menu {
  id        String   @id
  name      String
  location  String
  items     Json
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([isActive])
  @@index([location])
}

model NavbarLink {
  id        String   @id
  locale    String
  label     String
  href      String
  order     Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([isActive])
  @@index([locale, order])
}

model Notification {
  id        String   @id
  userId    String
  type      String
  title     String
  message   String?
  isRead    Boolean  @default(false)
  createdAt DateTime @default(now())
  User      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([isRead])
  @@index([userId])
}

model PageContent {
  id           String   @id
  slug         String
  locale       String
  title        String?
  description  String?
  heroTitle    String?
  heroSubtitle String?
  heroCtaLabel String?
  heroCtaHref  String?
  content      Json?
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime

  @@unique([slug, locale])
  @@index([locale])
  @@index([slug])
}

model PageTemplate {
  id        String   @id
  name      String
  slug      String   @unique
  layout    String
  config    Json
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())

  @@index([slug])
}

model Permission {
  id             String           @id
  resource       String
  action         String
  description    String?
  createdAt      DateTime         @default(now())
  RolePermission RolePermission[]
  UserPermission UserPermission[]

  @@unique([resource, action])
  @@index([resource])
}

model Property {
  id   String @id @default(cuid())
  slug String @unique

  // Identity & Base
  title       String?
  subtitle    String?
  description String?
  status      PropertyStatus     @default(DRAFT)
  type        PropertyType       @default(RENT)
  isFeatured  Boolean            @default(false)
  visibility  PropertyVisibility @default(PUBLIC)

  // Location
  addressLine1 String?
  addressLine2 String?
  zipCode      String?
  countryId    String?
  stateId      String?
  cityId       String?
  areaId       String?
  latitude     Float?
  longitude    Float?
  mapZoom      Int?

  // Physical Details
  bedrooms       Int?
  bathrooms      Int?
  parkingSpaces  Int?
  garages        Int?
  garageSize     Float?
  garageSizeUnit String?
  areaSize       Float?
  areaUnit       String  @default("sqft")
  landArea       Float?
  landAreaUnit   String?
  yearBuilt      Int?
  propertyCode   String?

  // Pricing & Currency
  price               Float?
  priceCurrencyId     String?
  pricePostfix        String?
  oldPrice            Float?
  secondaryPriceLabel String?
  rentalDetails       Json?

  // Taxonomy & Classification
  propertyTypeId String?
  categoryIds    Json?
  labelIds       Json?
  tagIds         Json?

  // Meta & Advanced Options
  expirationDate DateTime?
  energyClass    String?
  layout         Json?
  privateNote    String?
  disclaimer     String?

  // SEO
  seoTitle       String?
  seoDescription String?
  seoMeta        Json?

  // Media
  coverImageId   String?
  videoUrl       String?
  virtualTourUrl String?

  // Contact & Owner
  ownerId          String?
  contactPhone     String?
  contactEmail     String?
  contactWhatsapp  String?
  showOwnerOnFront Boolean @default(true)

  // Stats & Tracking
  views    Int    @default(0)
  bookings Int    @default(0)
  rating   Float?

  // Hierarchy
  parentPropertyId String?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  publishedAt DateTime?

  // Relations
  country       Country?   @relation(fields: [countryId], references: [id])
  state         State?     @relation(fields: [stateId], references: [id])
  city          City?      @relation(fields: [cityId], references: [id])
  area          Area?      @relation(fields: [areaId], references: [id])
  priceCurrency Currency?  @relation(fields: [priceCurrencyId], references: [id])
  owner         User?      @relation(fields: [ownerId], references: [id])
  parent        Property?  @relation("PropertyHierarchy", fields: [parentPropertyId], references: [id], onDelete: SetNull)
  children      Property[] @relation("PropertyHierarchy")

  media            PropertyMedia[]
  documents        PropertyDocument[]
  features         PropertyPropertyFeature[]
  floorPlans       FloorPlan[]
  propertyBookings PropertyBooking[]

  @@index([slug])
  @@index([status])
  @@index([type])
  @@index([isFeatured])
  @@index([visibility])
  @@index([countryId])
  @@index([stateId])
  @@index([cityId])
  @@index([areaId])
  @@index([ownerId])
  @@index([parentPropertyId])
  @@index([createdAt])
  @@index([publishedAt])
}

enum PropertyStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

enum PropertyType {
  RENT
  SALE
  DAILY
  HOURLY
  INVESTMENT
}

enum PropertyVisibility {
  PUBLIC
  LOGGED_IN
  PRIVATE
}

model PropertyMedia {
  id         String   @id @default(cuid())
  propertyId String
  mediaId    String
  order      Int      @default(0)
  label      String?
  isCover    Boolean  @default(false)
  createdAt  DateTime @default(now())

  property Property @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  media    Media    @relation(fields: [mediaId], references: [id], onDelete: Cascade)

  @@unique([propertyId, mediaId])
  @@index([propertyId])
  @@index([mediaId])
  @@index([order])
}

model PropertyDocument {
  id          String               @id @default(cuid())
  propertyId  String
  mediaId     String
  type        PropertyDocumentType @default(OTHER)
  title       String?
  description String?
  createdAt   DateTime             @default(now())

  property Property @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  media    Media    @relation(fields: [mediaId], references: [id], onDelete: Cascade)

  @@index([propertyId])
  @@index([mediaId])
  @@index([type])
}

enum PropertyDocumentType {
  PLAN
  BROCHURE
  CONTRACT
  MAP
  OTHER
}

model PropertyFeature {
  id        String   @id @default(cuid())
  key       String   @unique
  icon      String?
  group     String?
  order     Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  properties PropertyPropertyFeature[]

  @@index([key])
  @@index([group])
  @@index([isActive])
}

model PropertyPropertyFeature {
  propertyId String
  featureId  String

  property Property        @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  feature  PropertyFeature @relation(fields: [featureId], references: [id], onDelete: Cascade)

  @@id([propertyId, featureId])
  @@index([propertyId])
  @@index([featureId])
}

model FloorPlan {
  id              String   @id @default(cuid())
  propertyId      String
  title           String
  bedrooms        Int?
  bathrooms       Int?
  price           Float?
  priceCurrencyId String?
  size            Float?
  sizeUnit        String?
  imageId         String?
  description     String?
  order           Int      @default(0)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  property      Property  @relation(fields: [propertyId], references: [id], onDelete: Cascade)
  priceCurrency Currency? @relation(fields: [priceCurrencyId], references: [id])
  image         Media?    @relation(fields: [imageId], references: [id])

  @@index([propertyId])
  @@index([order])
}

model Provider {
  id                   String                 @id
  name                 String
  slug                 String                 @unique
  email                String
  phone                String?
  description          String?
  logo                 String?
  coverImage           String?
  website              String?
  countryId            String
  cityId               String?
  rating               Float                  @default(0)
  totalReviews         Int                    @default(0)
  isVerified           Boolean                @default(false)
  isFeatured           Boolean                @default(false)
  isActive             Boolean                @default(true)
  createdAt            DateTime               @default(now())
  updatedAt            DateTime
  Lead                 Lead[]
  City                 City?                  @relation(fields: [cityId], references: [id])
  Country              Country                @relation(fields: [countryId], references: [id])
  ProviderAd           ProviderAd[]
  ProviderAnalytics    ProviderAnalytics[]
  ProviderChatbot      ProviderChatbot?
  ProviderForm         ProviderForm[]
  ProviderLocation     ProviderLocation[]
  ProviderMedia        ProviderMedia[]
  ProviderMember       ProviderMember[]
  ProviderNotification ProviderNotification[]
  ProviderReview       ProviderReview[]
  ProviderService      ProviderService[]
  RentalCar            RentalCar[]
  DoctorAppointment    DoctorAppointment[]    @relation("DoctorAppointments")
  LawyerConsultation   LawyerConsultation[]   @relation("LawyerConsultations")

  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([slug])
}

model ProviderAd {
  id           String         @id
  providerId   String
  title        String
  description  String?
  targetUrl    String?
  budget       Float
  spent        Float          @default(0)
  impressions  Int            @default(0)
  clicks       Int            @default(0)
  startDate    DateTime
  endDate      DateTime
  isActive     Boolean        @default(true)
  createdAt    DateTime       @default(now())
  updatedAt    DateTime
  AdClick      AdClick[]
  AdImpression AdImpression[]
  Provider     Provider       @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@index([isActive])
  @@index([providerId])
}

model ProviderAnalytics {
  id         String   @id
  providerId String
  date       DateTime @db.Date
  views      Int      @default(0)
  clicks     Int      @default(0)
  bookings   Int      @default(0)
  revenue    Float    @default(0)
  createdAt  DateTime @default(now())
  Provider   Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@unique([providerId, date])
  @@index([date])
  @@index([providerId])
}

model ProviderChatbot {
  id                  String                @id
  providerId          String                @unique
  name                String
  greeting            String?
  model               String                @default("gpt-3.5-turbo")
  temperature         Float                 @default(0.7)
  maxTokens           Int                   @default(500)
  isActive            Boolean               @default(true)
  createdAt           DateTime              @default(now())
  updatedAt           DateTime
  ChatbotConversation ChatbotConversation[]
  Provider            Provider              @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@index([providerId])
}

model ProviderForm {
  id             String           @id
  providerId     String
  name           String
  description    String?
  fields         Json
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt      DateTime
  FormSubmission FormSubmission[]
  Provider       Provider         @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@index([providerId])
}

model ProviderLocation {
  id         String   @id
  providerId String
  cityId     String
  address    String?
  latitude   Float?
  longitude  Float?
  isPrimary  Boolean  @default(false)
  isActive   Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  City       City     @relation(fields: [cityId], references: [id])
  Provider   Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@index([cityId])
  @@index([providerId])
}

model ProviderMedia {
  id         String   @id
  providerId String
  type       String
  url        String
  title      String?
  order      Int      @default(0)
  createdAt  DateTime @default(now())
  Provider   Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@index([providerId])
  @@index([type])
}

model ProviderMember {
  id         String   @id
  providerId String
  userId     String
  role       String
  createdAt  DateTime @default(now())
  Provider   Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@unique([providerId, userId])
  @@index([providerId])
  @@index([userId])
}

model ProviderNotification {
  id         String   @id
  providerId String
  type       String
  title      String
  message    String?
  isRead     Boolean  @default(false)
  createdAt  DateTime @default(now())
  Provider   Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@index([isRead])
  @@index([providerId])
}

model ProviderReview {
  id          String   @id
  providerId  String
  userId      String?
  rating      Int
  comment     String?
  isVerified  Boolean  @default(false)
  isPublished Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime
  Provider    Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)

  @@index([isPublished])
  @@index([providerId])
  @@index([rating])
}

model ProviderService {
  id         String   @id
  providerId String
  serviceId  String
  price      Float?
  currency   String   @default("USD")
  duration   Int?
  isActive   Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  Provider   Provider @relation(fields: [providerId], references: [id], onDelete: Cascade)
  Service    Service  @relation(fields: [serviceId], references: [id])

  @@unique([providerId, serviceId])
  @@index([providerId])
  @@index([serviceId])
}

model Region {
  id        String   @id
  countryId String
  name      String
  slug      String
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime
  City      City[]
  Event     Event[]
  Country   Country  @relation(fields: [countryId], references: [id])

  @@unique([countryId, slug])
  @@index([countryId])
  @@index([slug])
}

model RentalBooking {
  id              String    @id
  rentalCarId     String
  userId          String?
  customerName    String
  customerEmail   String
  customerPhone   String
  pickupDate      DateTime
  dropoffDate     DateTime
  pickupLocation  String
  dropoffLocation String
  pickupTime      String?
  dropoffTime     String?
  days            Int
  basePrice       Float
  mileageIncluded Int
  extraKmFee      Float?
  deliveryFee     Float?    @default(0)
  noDepositFee    Float?    @default(0)
  discount        Float?    @default(0)
  totalPrice      Float
  currency        String    @default("AED")
  paymentStatus   String    @default("PENDING")
  paymentMethod   String?
  bookingStatus   String    @default("PENDING")
  specialRequests String?
  createdAt       DateTime  @default(now())
  updatedAt       DateTime
  RentalCar       RentalCar @relation(fields: [rentalCarId], references: [id])
  User            User?     @relation(fields: [userId], references: [id])

  @@index([bookingStatus])
  @@index([pickupDate])
  @@index([rentalCarId])
  @@index([userId])
}

model RentalCar {
  id                String            @id
  slug              String            @unique
  name              String
  brand             String
  model             String
  year              Int
  category          RentalCarCategory
  description       String
  shortDescription  String?
  doors             Int               @default(4)
  seats             Int               @default(5)
  horsepower        Int?
  cylinders         Int?
  acceleration      String?
  topSpeed          Int?
  fuelType          FuelType
  transmission      TransmissionType  @default(AUTOMATIC)
  color             String
  pricePerDay       Float
  pricePerWeek      Float?
  pricePerMonth     Float?
  currency          String            @default("AED")
  deposit           Float?            @default(0)
  noDeposit         Boolean           @default(false)
  noDepositFee      Float?
  mileagePerDay     Int               @default(250)
  mileagePerWeek    Int?              @default(1500)
  mileagePerMonth   Int?              @default(4500)
  extraKmFee        Float             @default(25)
  freeDelivery      Boolean           @default(false)
  pickupFee         Float?            @default(0)
  dropoffFee        Float?            @default(0)
  deliveryLocations Json?
  minAge            Int               @default(25)
  minDays           Int               @default(1)
  requiredDocuments Json?
  instantBooking    Boolean           @default(true)
  features          Json?
  carFeatures       Json?
  images            Json?
  mainImage         String?
  brandLogo         String?
  cityId            String
  countryId         String
  providerId        String?
  providerName      String?
  providerRating    Float?
  providerReviews   Int?              @default(0)
  providerVerified  Boolean           @default(false)
  providerCarsCount Int?              @default(0)
  isNewArrival      Boolean           @default(false)
  isFeatured        Boolean           @default(false)
  isActive          Boolean           @default(true)
  isAvailable       Boolean           @default(true)
  viewCount         Int               @default(0)
  bookingCount      Int               @default(0)
  rating            Float?            @default(5)
  reviewCount       Int               @default(0)
  metaTitle         String?
  metaDescription   String?
  faq               Json?
  createdAt         DateTime          @default(now())
  updatedAt         DateTime
  RentalBooking     RentalBooking[]
  City              City              @relation(fields: [cityId], references: [id])
  Country           Country           @relation(fields: [countryId], references: [id])
  Provider          Provider?         @relation(fields: [providerId], references: [id])
  RentalReview      RentalReview[]

  @@index([brand])
  @@index([category])
  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([isNewArrival])
  @@index([pricePerDay])
  @@index([providerId])
  @@index([slug])
}

model RentalMotorbike {
  id            String   @id
  slug          String   @unique
  brand         String
  model         String
  year          Int
  category      String
  description   String
  seats         Int      @default(2)
  transmission  String   @default("Automatic")
  fuelType      String   @default("Petrol")
  engineSize    Int
  pricePerDay   Float
  pricePerWeek  Float?
  pricePerMonth Float?
  currency      String   @default("THB")
  features      Json?
  images        Json?
  cityId        String?
  countryId     String
  available     Boolean  @default(true)
  createdAt     DateTime @default(now())
  updatedAt     DateTime
  City          City?    @relation(fields: [cityId], references: [id])
  Country       Country  @relation(fields: [countryId], references: [id])

  @@index([brand])
  @@index([category])
  @@index([cityId])
  @@index([countryId])
  @@index([pricePerDay])
  @@index([slug])
}

model RentalReview {
  id          String    @id
  rentalCarId String
  userId      String?
  userName    String
  userEmail   String?
  rating      Float
  comment     String?
  isVerified  Boolean   @default(false)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime
  RentalCar   RentalCar @relation(fields: [rentalCarId], references: [id])
  User        User?     @relation(fields: [userId], references: [id])

  @@index([rating])
  @@index([rentalCarId])
  @@index([userId])
}

model Review {
  id          String   @id
  userId      String
  entityType  String
  entityId    String
  rating      Int
  comment     String?
  isPublished Boolean  @default(true)
  createdAt   DateTime @default(now())
  User        User     @relation(fields: [userId], references: [id])

  @@index([entityType, entityId])
  @@index([userId])
}

model Role {
  id             String           @id
  name           String           @unique
  description    String?
  level          Int              @default(0)
  isActive       Boolean          @default(true)
  createdAt      DateTime         @default(now())
  updatedAt      DateTime
  RolePermission RolePermission[]
  UserRole       UserRole[]

  @@index([level])
  @@index([name])
}

model RolePermission {
  id           String     @id
  roleId       String
  permissionId String
  Permission   Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)
  Role         Role       @relation(fields: [roleId], references: [id], onDelete: Cascade)

  @@unique([roleId, permissionId])
  @@index([permissionId])
  @@index([roleId])
}

model Service {
  id                 String               @id
  categoryId         String
  name               String
  slug               String               @unique
  description        String?
  basePrice          Float?
  currency           String               @default("USD")
  duration           Int?
  isActive           Boolean              @default(true)
  createdAt          DateTime             @default(now())
  updatedAt          DateTime
  ProviderService    ProviderService[]
  Category           Category             @relation(fields: [categoryId], references: [id])
  ServiceTag         ServiceTag[]
  ServiceTranslation ServiceTranslation[]

  @@index([categoryId])
  @@index([isActive])
  @@index([slug])
}

model ServiceTag {
  id        String   @id
  serviceId String
  tag       String
  createdAt DateTime @default(now())
  Service   Service  @relation(fields: [serviceId], references: [id], onDelete: Cascade)

  @@unique([serviceId, tag])
  @@index([serviceId])
  @@index([tag])
}

model ServiceTranslation {
  id          String  @id
  serviceId   String
  locale      String
  name        String
  description String?
  Service     Service @relation(fields: [serviceId], references: [id], onDelete: Cascade)

  @@unique([serviceId, locale])
  @@index([locale])
  @@index([serviceId])
}

model Session {
  id           String   @id
  sessionToken String   @unique
  userId       String
  expires      DateTime
  User         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
}

model Supplier {
  id                 String             @id
  name               String
  slug               String             @unique
  companyName        String
  businessType       String
  yearEstablished    Int?
  numberOfEmployees  String?
  annualRevenue      String?
  mainCategory       String
  categories         Json
  products           Json
  tags               Json
  certifications     Json?
  isHalalCertified   Boolean            @default(false)
  isOrganicCertified Boolean            @default(false)
  description        String
  mainProducts       String
  capabilities       Json?
  minOrderQuantity   String?
  priceRange         String?
  paymentTerms       Json?
  deliveryTime       String?
  cityId             String
  countryId          String
  address            String?
  latitude           Float?
  longitude          Float?
  contactPerson      String?
  phone              String?
  email              String?
  whatsapp           String?
  website            String?
  logo               String?
  images             Json?
  video              String?
  brochure           String?
  tradeShows         Json?
  responseRate       Int                @default(0)
  responseTime       String?
  totalTransactions  Int                @default(0)
  rating             Float              @default(0)
  reviews            Int                @default(0)
  metaTitle          String?
  metaDescription    String?
  isActive           Boolean            @default(true)
  isFeatured         Boolean            @default(false)
  isVerified         Boolean            @default(false)
  isGoldSupplier     Boolean            @default(false)
  views              Int                @default(0)
  inquiries          Int                @default(0)
  createdAt          DateTime           @default(now())
  updatedAt          DateTime
  City               City               @relation(fields: [cityId], references: [id])
  Country            Country            @relation(fields: [countryId], references: [id])
  SupplierFavorite   SupplierFavorite[]
  SupplierInquiry    SupplierInquiry[]

  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([isGoldSupplier])
  @@index([isHalalCertified])
  @@index([isOrganicCertified])
  @@index([isVerified])
  @@index([mainCategory])
  @@index([slug])
}

model SupplierComparison {
  id          String   @id
  supplierIds Json
  userId      String?
  sessionId   String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime

  @@index([sessionId])
  @@index([userId])
}

model SupplierFavorite {
  id         String   @id
  supplierId String
  userId     String?
  sessionId  String?
  createdAt  DateTime @default(now())
  Supplier   Supplier @relation(fields: [supplierId], references: [id])

  @@unique([supplierId, sessionId])
  @@unique([supplierId, userId])
  @@index([sessionId])
  @@index([supplierId])
  @@index([userId])
}

model SupplierInquiry {
  id            String   @id
  supplierId    String
  productName   String
  quantity      String
  targetPrice   String?
  message       String
  customerName  String
  customerEmail String
  customerPhone String?
  companyName   String?
  country       String
  status        String   @default("pending")
  createdAt     DateTime @default(now())
  updatedAt     DateTime
  Supplier      Supplier @relation(fields: [supplierId], references: [id])

  @@index([createdAt])
  @@index([status])
  @@index([supplierId])
}

model TimeSlot {
  id         String   @id
  providerId String?
  date       DateTime @db.Date
  startTime  String
  endTime    String
  isBooked   Boolean  @default(false)
  createdAt  DateTime @default(now())

  @@index([date])
  @@index([isBooked])
  @@index([providerId])
}

model Transfer {
  id                 String            @id
  slug               String            @unique
  name               String
  description        String
  shortDescription   String?
  transferType       TransferType
  vehicleType        VehicleType
  fromLocation       String
  toLocation         String
  fromAddress        String?
  toAddress          String?
  fromLat            Float?
  fromLng            Float?
  toLat              Float?
  toLng              Float?
  maxPassengers      Int               @default(4)
  maxLuggage         Int               @default(3)
  price              Float
  pricePerHour       Float?
  currency           String            @default("USD")
  duration           Int?
  distance           Float?
  features           Json?
  amenities          Json?
  included           Json?
  notIncluded        Json?
  images             Json?
  mainImage          String?
  cityId             String
  countryId          String
  vehicleMake        String?
  vehicleModel       String?
  vehicleYear        Int?
  vehicleColor       String?
  vehiclePlate       String?
  driverName         String?
  driverPhone        String?
  driverLanguages    Json?
  minBookingHours    Int?              @default(1)
  maxBookingHours    Int?
  advanceBooking     Int?              @default(2)
  cancellationPolicy String?
  childSeat          Boolean           @default(false)
  wheelchairAccess   Boolean           @default(false)
  petFriendly        Boolean           @default(false)
  smokingAllowed     Boolean           @default(false)
  operatingHours     Json?
  availability       Json?
  faq                Json?
  termsConditions    String?
  metaTitle          String?
  metaDescription    String?
  viewCount          Int               @default(0)
  bookingCount       Int               @default(0)
  rating             Float?
  reviewCount        Int               @default(0)
  isActive           Boolean           @default(true)
  isFeatured         Boolean           @default(false)
  isAvailable        Boolean           @default(true)
  createdAt          DateTime          @default(now())
  updatedAt          DateTime
  City               City              @relation(fields: [cityId], references: [id])
  Country            Country           @relation(fields: [countryId], references: [id])
  TransferBooking    TransferBooking[]
  TransferReview     TransferReview[]

  @@index([cityId])
  @@index([countryId])
  @@index([fromLocation])
  @@index([isActive])
  @@index([isFeatured])
  @@index([slug])
  @@index([toLocation])
  @@index([transferType])
  @@index([vehicleType])
}

model TransferBooking {
  id               String   @id
  transferId       String
  userId           String?
  customerName     String
  customerEmail    String
  customerPhone    String
  pickupDate       DateTime
  pickupTime       String
  pickupLocation   String
  dropoffLocation  String
  passengers       Int
  luggage          Int
  childSeat        Boolean  @default(false)
  wheelchairAccess Boolean  @default(false)
  basePrice        Float
  extraCharges     Float?   @default(0)
  discount         Float?   @default(0)
  totalPrice       Float
  currency         String   @default("USD")
  paymentStatus    String   @default("PENDING")
  paymentMethod    String?
  paymentId        String?
  status           String   @default("PENDING")
  specialRequests  String?
  adminNotes       String?
  driverAssigned   Boolean  @default(false)
  driverName       String?
  driverPhone      String?
  vehicleInfo      String?
  createdAt        DateTime @default(now())
  updatedAt        DateTime
  Transfer         Transfer @relation(fields: [transferId], references: [id])

  @@index([pickupDate])
  @@index([status])
  @@index([transferId])
  @@index([userId])
}

model TransferReview {
  id                String   @id
  transferId        String
  userId            String?
  customerName      String
  customerEmail     String?
  rating            Int
  comment           String?
  driverRating      Int?
  vehicleRating     Int?
  punctualityRating Int?
  isVerified        Boolean  @default(false)
  isApproved        Boolean  @default(false)
  createdAt         DateTime @default(now())
  updatedAt         DateTime
  Transfer          Transfer @relation(fields: [transferId], references: [id])

  @@index([isApproved])
  @@index([transferId])
  @@index([userId])
}

model Translation {
  id         String   @id
  languageId String
  namespace  String
  key        String
  value      String
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  Language   Language @relation(fields: [languageId], references: [id], onDelete: Cascade)

  @@unique([languageId, namespace, key])
  @@index([languageId])
  @@index([namespace])
}

model TranslationMissing {
  id        String   @id
  locale    String
  namespace String
  key       String
  count     Int      @default(1)
  createdAt DateTime @default(now())

  @@unique([locale, namespace, key])
  @@index([locale])
}

model User {
  id                 String               @id
  email              String               @unique
  emailVerified      DateTime?
  password           String?
  firstName          String?
  lastName           String?
  phone              String?
  avatar             String?
  locale             String               @default("en")
  timezone           String               @default("UTC")
  isActive           Boolean              @default(true)
  createdAt          DateTime             @default(now())
  updatedAt          DateTime
  Account            Account[]
  Appointment        Appointment[]
  Booking            Booking[]
  EventRegistration  EventRegistration[]
  Favorite           Favorite[]
  Notification       Notification[]
  RentalBooking      RentalBooking[]
  RentalReview       RentalReview[]
  Review             Review[]
  Session            Session[]
  UserPermission     UserPermission[]
  UserRole           UserRole[]
  MediaFile          MediaFile[]
  Property           Property[]
  logs               Log[]
  adminLogs          Log[]                @relation("AdminLogs")
  movingQuotes       MovingQuote[]        @relation("MovingQuotes")
  movingBookings     MovingBooking[]      @relation("MovingBookings")
  parcelQuotes       ParcelQuote[]        @relation("ParcelQuotes")
  sentParcels        ParcelDelivery[]     @relation("SentParcels")
  CleaningBooking    CleaningBooking[]
  CleaningReview     CleaningReview[]
  CoachBooking       CoachBooking[]       @relation("CoachBookings")
  YachtBooking       YachtBooking[]       @relation("YachtBookings")
  DoctorAppointment  DoctorAppointment[]  @relation("DoctorAppointments")
  LawyerConsultation LawyerConsultation[] @relation("LawyerConsultations")
  ActivityBooking    ActivityBooking[]    @relation("ActivityBookings")
  PropertyBooking    PropertyBooking[]    @relation("PropertyBookings")
  MaidBooking        MaidBooking[]        @relation("MaidBookings")
  ScooterBooking     ScooterBooking[]     @relation("ScooterBookings")
  BusinessClaim      BusinessClaim[]

  @@index([email])
  @@index([isActive])
}

model UserPermission {
  id           String     @id
  userId       String
  permissionId String
  createdAt    DateTime   @default(now())
  Permission   Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)
  User         User       @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([userId, permissionId])
  @@index([permissionId])
  @@index([userId])
}

model UserRole {
  id        String   @id
  userId    String
  roleId    String
  createdAt DateTime @default(now())
  Role      Role     @relation(fields: [roleId], references: [id], onDelete: Cascade)
  User      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([userId, roleId])
  @@index([roleId])
  @@index([userId])
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}

model Yacht {
  id                 String         @id
  slug               String         @unique
  name               String
  brand              String?
  model              String?
  year               Int?
  length             Float?
  lengthUnit         String         @default("ft")
  capacity           Int?
  cabins             Int?
  bathrooms          Int?
  crew               Int?
  pricePerHour       Float?
  priceFor2Hours     Float?
  priceFor3Hours     Float?
  priceFor4Hours     Float?
  priceFor6Hours     Float?
  priceFor8Hours     Float?
  pricePerDay        Float?
  currency           String         @default("AED")
  description        String?
  shortDescription   String?
  features           Json?
  amenities          Json?
  included           Json?
  notIncluded        Json?
  images             Json?
  mainImage          String?
  location           String?
  cityId             String
  countryId          String
  speed              Float?
  fuelType           String?
  engineType         String?
  manufacturer       String?
  minBookingHours    Int?           @default(2)
  cancellationPolicy String?
  faq                Json?
  metaTitle          String?
  metaDescription    String?
  viewCount          Int            @default(0)
  bookingCount       Int            @default(0)
  rating             Float?
  reviewCount        Int            @default(0)
  isActive           Boolean        @default(true)
  isFeatured         Boolean        @default(false)
  isAvailable        Boolean        @default(true)
  createdAt          DateTime       @default(now())
  updatedAt          DateTime
  City               City           @relation(fields: [cityId], references: [id])
  Country            Country        @relation(fields: [countryId], references: [id])
  YachtBooking       YachtBooking[]

  @@index([capacity])
  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([slug])
}

enum FuelType {
  PETROL
  DIESEL
  PREMIUM
  ELECTRIC
  HYBRID
}

enum RentalCarCategory {
  SUPER
  LUXURY
  SPORTS
  SUV
  SEDAN
  ECONOMY
  CONVERTIBLE
  COUPE
  HATCHBACK
  ELECTRIC
}

enum TransferType {
  AIRPORT
  CITY
  VIP
  GROUP
  HOTEL
  PRIVATE_DRIVER
}

enum TransmissionType {
  AUTOMATIC
  MANUAL
  SEMI_AUTOMATIC
}

enum VehicleType {
  SEDAN
  SUV
  VAN
  LUXURY
  MINIBUS
  BUS
}

// ====================================================================
// MEDIA LIBRARY MODELS
// ====================================================================

model MediaCategory {
  id       String          @id @default(cuid())
  name     String
  slug     String          @unique
  parentId String?
  parent   MediaCategory?  @relation("MediaCategoryToParent", fields: [parentId], references: [id], onDelete: SetNull)
  children MediaCategory[] @relation("MediaCategoryToParent")
  icon     String?

  media MediaFile[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([slug])
  @@index([parentId])
}

model MediaFile {
  id              String  @id @default(cuid())
  uuid            String  @unique @default(cuid())
  fileName        String
  slug            String?
  extension       String?
  mimeType        String
  size            BigInt
  width           Int?
  height          Int?
  duration        Float?
  altText         String?
  caption         String?
  description     String?
  tags            Json?
  usedIn          Json?
  storagePath     String
  storageProvider String  @default("local")
  visibility      String  @default("public")

  categoryId String?
  category   MediaCategory? @relation(fields: [categoryId], references: [id], onDelete: SetNull)

  uploadedById String?
  uploadedBy   User?   @relation(fields: [uploadedById], references: [id], onDelete: SetNull)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([mimeType])
  @@index([categoryId])
  @@index([uploadedById])
  @@index([visibility])
  @@index([createdAt])
}

model Log {
  id          String   @id @default(cuid())
  timestamp   DateTime @default(now())
  level       String // INFO, WARN, ERROR, FATAL
  category    String // auth, user, booking, property, payment, system, admin, notification, other
  message     String
  context     Json?
  source      String   @default("api") // api, cron, worker, webhook, job
  environment String   @default("preprod") // dev, preprod, prod

  userId String?
  user   User?   @relation(fields: [userId], references: [id], onDelete: SetNull)

  adminId String?
  admin   User?   @relation("AdminLogs", fields: [adminId], references: [id], onDelete: SetNull)

  requestId  String?
  path       String?
  method     String?
  statusCode Int?
  ip         String?
  userAgent  String?

  @@index([timestamp, level])
  @@index([category])
  @@index([userId])
  @@index([adminId])
  @@index([path])
  @@index([level])
  @@index([requestId])
}

model LegalProfessional {
  id                String  @id @default(cuid())
  type              String // LAWYER, LAW_FIRM, LEGAL_ADVISOR, NOTARY
  status            String  @default("DRAFT") // DRAFT, PUBLISHED, ARCHIVED
  name              String
  slug              String  @unique
  shortTitle        String?
  headline          String?
  profilePictureUrl String?
  coverImageUrl     String?

  // Contact & Location
  email        String?
  phone        String?
  whatsapp     String?
  websiteUrl   String?
  linkedInUrl  String?
  facebookUrl  String?
  twitterUrl   String?
  addressLine1 String?
  addressLine2 String?
  city         String?
  postalCode   String?
  country      String?
  latitude     Float?
  longitude    Float?

  // Profile & Content
  bio               String? @db.Text
  languages         Json // ["fr", "en", "ar"]
  yearsOfExperience Int?
  hourlyRateFrom    Float?
  hourlyRateTo      Float?
  currency          String? @default("EUR")
  feeModel          String? // HOURLY, FIXED, SUCCESS_FEE, MIXED, ON_QUOTE

  // Expertise
  practiceAreas    Json // ["CORPORATE_LAW", "LABOR_LAW", ...]
  industries       Json? // ["STARTUPS", "SME", ...]
  licenseNumber    String?
  barAssociation   String?
  barAdmissionYear Int?
  certifications   Json? // ["Certified Mediator", ...]

  // Services
  services Json? // [{title, description, startingPrice, currency, isRemote, isUrgentAvailable}]

  // Booking & Visibility
  isBookableOnline    Boolean @default(false)
  bookingUrl          String?
  averageResponseTime String? // "< 24h", "< 48h"
  newClientsAccepted  Boolean @default(true)
  featured            Boolean @default(false)
  priorityOrder       Int     @default(100)

  // SEO
  seoTitle       String?
  seoDescription String?
  seoKeywords    Json? // ["avocat paris", "droit des affaires"]

  // Metadata
  isActive              Boolean  @default(true)
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  createdByAdminId      String?
  lastModifiedByAdminId String?

  @@index([status])
  @@index([featured, priorityOrder])
  @@index([country, city])
  @@index([isActive])
  @@index([type])
}

// ============================================
// MOVING SERVICES - Services de dmnagement
// ============================================

model MovingService {
  id               String  @id @default(cuid())
  name             String
  slug             String  @unique
  description      String  @db.Text
  shortDescription String?

  partnerId   String?
  partnerName String?

  basePrice      Float
  pricePerKm     Float
  pricePerCubicM Float
  pricePerHour   Float?
  currency       String @default("AED")

  packingIncluded   Boolean @default(false)
  unpackingIncluded Boolean @default(false)
  assemblyIncluded  Boolean @default(false)
  storageAvailable  Boolean @default(false)

  vehicleTypes  Json
  coverageAreas Json
  availableDays Json
  workingHours  Json

  images Json?
  logo   String?

  metaTitle       String?
  metaDescription String?

  totalBookings Int   @default(0)
  rating        Float @default(0)
  reviewCount   Int   @default(0)

  isActive   Boolean @default(true)
  isFeatured Boolean @default(false)

  bookings MovingBooking[]
  quotes   MovingQuote[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([slug])
  @@index([partnerId])
  @@index([isActive])
  @@index([isFeatured])
}

model MovingQuote {
  id          String @id @default(cuid())
  quoteNumber String @unique

  serviceId String?
  service   MovingService? @relation(fields: [serviceId], references: [id])

  userId String?
  user   User?   @relation("MovingQuotes", fields: [userId], references: [id])

  name  String
  email String
  phone String

  fromAddress  String
  fromCity     String
  fromCountry  String
  fromFloor    Int?
  fromElevator Boolean @default(false)

  toAddress  String
  toCity     String
  toCountry  String
  toFloor    Int?
  toElevator Boolean @default(false)

  distance Float?

  preferredDate DateTime?
  preferredTime String?

  estimatedVolume Float?
  numberOfRooms   Int?
  itemsList       Json?

  needPacking     Boolean @default(false)
  needUnpacking   Boolean @default(false)
  needAssembly    Boolean @default(false)
  needStorage     Boolean @default(false)
  storageDuration Int?

  vehicleType String?

  estimatedPrice Float?
  currency       String @default("AED")

  status String @default("pending")

  specialInstructions String? @db.Text
  adminNotes          String? @db.Text

  quotedPrice Float?
  quotedBy    String?
  quotedAt    DateTime?
  validUntil  DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([quoteNumber])
  @@index([userId])
  @@index([serviceId])
  @@index([status])
  @@index([email])
}

model MovingBooking {
  id            String @id @default(cuid())
  bookingNumber String @unique

  serviceId String
  service   MovingService @relation(fields: [serviceId], references: [id])

  userId String
  user   User   @relation("MovingBookings", fields: [userId], references: [id])

  quoteId String?

  fromAddress  String
  fromCity     String
  fromCountry  String
  fromFloor    Int?
  fromElevator Boolean @default(false)

  toAddress  String
  toCity     String
  toCountry  String
  toFloor    Int?
  toElevator Boolean @default(false)

  distance Float?

  movingDate        DateTime
  preferredTime     String
  estimatedDuration Int?

  estimatedVolume Float?
  numberOfRooms   Int?
  itemsList       Json?

  needPacking     Boolean @default(false)
  needUnpacking   Boolean @default(false)
  needAssembly    Boolean @default(false)
  needStorage     Boolean @default(false)
  storageDuration Int?

  vehicleType      String
  numberOfVehicles Int    @default(1)

  basePrice          Float
  distancePrice      Float
  volumePrice        Float
  additionalServices Float  @default(0)
  totalPrice         Float
  currency           String @default("AED")

  paymentStatus String  @default("pending")
  paymentMethod String?

  status String @default("pending")

  specialInstructions String? @db.Text
  adminNotes          String? @db.Text

  currentLocation  String?
  estimatedArrival DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([bookingNumber])
  @@index([userId])
  @@index([serviceId])
  @@index([status])
  @@index([movingDate])
}

// ============================================
// PARCEL DELIVERY - Envoi de colis
// ============================================

model ParcelService {
  id               String  @id @default(cuid())
  name             String
  slug             String  @unique
  description      String  @db.Text
  shortDescription String?

  partnerId   String?
  partnerName String?

  basePrice  Float
  pricePerKg Float
  pricePerKm Float?
  currency   String @default("AED")

  maxWeight Float
  maxLength Float
  maxWidth  Float
  maxHeight Float

  expressAvailable Boolean @default(false)
  sameDay          Boolean @default(false)
  nextDay          Boolean @default(false)
  international    Boolean @default(false)

  trackingAvailable  Boolean @default(true)
  insuranceAvailable Boolean @default(true)

  coverageAreas Json

  logo String?

  metaTitle       String?
  metaDescription String?

  totalDeliveries Int   @default(0)
  rating          Float @default(0)
  reviewCount     Int   @default(0)

  isActive   Boolean @default(true)
  isFeatured Boolean @default(false)

  deliveries ParcelDelivery[]
  quotes     ParcelQuote[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([slug])
  @@index([partnerId])
  @@index([isActive])
  @@index([isFeatured])
}

model ParcelQuote {
  id          String @id @default(cuid())
  quoteNumber String @unique

  serviceId String?
  service   ParcelService? @relation(fields: [serviceId], references: [id])

  userId String?
  user   User?   @relation("ParcelQuotes", fields: [userId], references: [id])

  senderName    String
  senderEmail   String
  senderPhone   String
  senderAddress String
  senderCity    String
  senderCountry String

  recipientName    String
  recipientPhone   String
  recipientAddress String
  recipientCity    String
  recipientCountry String

  weight Float
  length Float
  width  Float
  height Float
  volume Float

  parcelType    String
  contents      String
  declaredValue Float?

  deliveryType String

  estimatedPrice Float?
  currency       String @default("AED")

  status String @default("pending")

  specialInstructions String? @db.Text
  adminNotes          String? @db.Text

  quotedPrice Float?
  quotedBy    String?
  quotedAt    DateTime?
  validUntil  DateTime?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([quoteNumber])
  @@index([userId])
  @@index([serviceId])
  @@index([status])
  @@index([senderEmail])
}

model ParcelDelivery {
  id             String @id @default(cuid())
  trackingNumber String @unique

  serviceId String
  service   ParcelService @relation(fields: [serviceId], references: [id])

  senderId String
  sender   User   @relation("SentParcels", fields: [senderId], references: [id])

  quoteId String?

  senderName    String
  senderPhone   String
  senderAddress String
  senderCity    String
  senderCountry String

  recipientName    String
  recipientPhone   String
  recipientAddress String
  recipientCity    String
  recipientCountry String

  weight Float
  length Float
  width  Float
  height Float
  volume Float

  parcelType    String
  contents      String
  declaredValue Float?

  deliveryType String

  basePrice      Float
  weightPrice    Float
  distancePrice  Float?
  insurancePrice Float  @default(0)
  totalPrice     Float
  currency       String @default("AED")

  pickupDate        DateTime?
  estimatedDelivery DateTime?
  actualDelivery    DateTime?

  status          String  @default("pending")
  currentLocation String?
  trackingHistory Json?

  paymentStatus String  @default("pending")
  paymentMethod String?

  specialInstructions String? @db.Text
  deliveryNotes       String? @db.Text

  signature     String?
  deliveryPhoto String?
  receivedBy    String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([trackingNumber])
  @@index([senderId])
  @@index([serviceId])
  @@index([status])
}

// ============================================
// CLEANING SERVICES MODELS
// ============================================

model CleaningService {
  id               String  @id @default(cuid())
  type             String // home, furniture, laundry
  name             String
  slug             String  @unique
  description      String? @db.Text
  shortDescription String?

  // Pricing
  basePrice     Float
  currency      String @default("AED")
  pricePerSqm   Float? // Pour home cleaning
  pricePerItem  Float? // Pour furniture/laundry
  minimumCharge Float?

  // Service Details
  duration         String? // "2-3 hours", "1 day", etc.
  serviceArea      Json? // Areas covered
  includedServices Json? // What's included
  excludedServices Json? // What's not included
  equipment        Json? // Equipment used
  products         Json? // Cleaning products used

  // Options & Add-ons
  options  Json? // [{name, price, description}]
  addons   Json? // Additional services
  packages Json? // Service packages

  // Availability
  availableDays  Json? // Days of week
  availableHours Json? // Time slots
  advanceBooking Int? // Days in advance

  // Location
  cityId       String
  countryId    String
  serviceAreas Json? // Specific areas/zones
  latitude     Float?
  longitude    Float?

  // Media
  image  String?
  images Json?
  video  String?

  // Tags & Categories
  tags        Json?
  category    String?
  subCategory String?

  // Requirements
  requirements Json? // Customer requirements
  restrictions Json? // Service restrictions

  // Policies
  cancellationPolicy String? @db.Text
  refundPolicy       String? @db.Text
  termsConditions    String? @db.Text

  // Contact
  phone    String?
  email    String?
  whatsapp String?

  // SEO
  metaTitle       String?
  metaDescription String?
  keywords        Json?

  // Status
  isActive    Boolean @default(true)
  isFeatured  Boolean @default(false)
  isVerified  Boolean @default(true)
  isAvailable Boolean @default(true)

  // Stats
  views       Int   @default(0)
  bookings    Int   @default(0)
  rating      Float @default(0)
  reviewCount Int   @default(0)

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  City            City              @relation(fields: [cityId], references: [id])
  Country         Country           @relation(fields: [countryId], references: [id])
  CleaningBooking CleaningBooking[]
  CleaningReview  CleaningReview[]

  @@index([type])
  @@index([slug])
  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([category])
}

model CleaningBooking {
  id            String  @id @default(cuid())
  bookingNumber String  @unique
  serviceId     String
  userId        String?

  // Customer Info
  customerName    String
  customerEmail   String
  customerPhone   String
  customerAddress String

  // Service Details
  serviceType String // home, furniture, laundry
  serviceDate DateTime
  serviceTime String
  duration    String?

  // Pricing
  basePrice    Float
  optionsPrice Float  @default(0)
  addonsPrice  Float  @default(0)
  subtotal     Float
  discount     Float  @default(0)
  tax          Float  @default(0)
  totalPrice   Float
  currency     String @default("AED")

  // Selected Options
  selectedOptions Json? // Options chosen
  selectedAddons  Json? // Add-ons chosen
  selectedPackage String? // Package if any

  // Property Details (for home cleaning)
  propertyType String? // villa, apartment, office
  bedrooms     Int?
  bathrooms    Int?
  squareMeters Float?
  floors       Int?

  // Items (for furniture/laundry)
  items     Json? // List of items
  itemCount Int?

  // Special Instructions
  specialRequests    String? @db.Text
  accessInstructions String? @db.Text
  parkingInfo        String?

  // Status
  status        String  @default("pending") // pending, confirmed, in_progress, completed, cancelled
  paymentStatus String  @default("unpaid") // unpaid, paid, refunded
  paymentMethod String?

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  // Relations
  CleaningService CleaningService @relation(fields: [serviceId], references: [id])
  User            User?           @relation(fields: [userId], references: [id])

  @@index([serviceId])
  @@index([userId])
  @@index([status])
  @@index([serviceDate])
  @@index([bookingNumber])
}

model CleaningReview {
  id        String  @id @default(cuid())
  serviceId String
  userId    String?
  bookingId String?

  // Review Details
  rating  Float
  title   String?
  comment String  @db.Text
  pros    Json?
  cons    Json?

  // Reviewer Info
  reviewerName  String
  reviewerEmail String?
  isVerified    Boolean @default(false)

  // Status
  isApproved  Boolean @default(false)
  isPublished Boolean @default(false)

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  CleaningService CleaningService @relation(fields: [serviceId], references: [id])
  User            User?           @relation(fields: [userId], references: [id])

  @@index([serviceId])
  @@index([userId])
  @@index([isApproved])
  @@index([isPublished])
}

// ============================================
// SPECIALIZED BOOKINGS - Rservations Spcialises
// ============================================

// COACH BOOKING - Rservations de Coaching
model CoachBooking {
  id            String @id @default(cuid())
  bookingNumber String @unique

  // Relations
  coachId String
  coach   Coach   @relation(fields: [coachId], references: [id])
  userId  String?
  user    User?   @relation("CoachBookings", fields: [userId], references: [id])

  // Customer Info
  customerName  String
  customerEmail String
  customerPhone String

  // Session Details
  sessionType String // personal, group, online, in-person
  sessionDate DateTime
  sessionTime String
  duration    Int // minutes
  location    String? // for in-person sessions
  meetingLink String? // for online sessions

  // Participants (for group sessions)
  numberOfParticipants Int   @default(1)
  participantNames     Json? // Array of names

  // Service Details
  category   String // fitness, nutrition, life-coaching, business
  goals      String? @db.Text // Client goals
  experience String? // beginner, intermediate, advanced

  // Pricing
  basePrice  Float
  discount   Float  @default(0)
  totalPrice Float
  currency   String @default("AED")

  // Payment
  paymentStatus String  @default("pending") // pending, paid, refunded
  paymentMethod String?
  paymentId     String?

  // Status
  status String @default("pending") // pending, confirmed, completed, cancelled, no-show

  // Notes
  specialRequests String? @db.Text
  adminNotes      String? @db.Text

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([coachId])
  @@index([userId])
  @@index([status])
  @@index([sessionDate])
  @@index([bookingNumber])
}

// YACHT BOOKING - Rservations de Yachts
model YachtBooking {
  id            String @id @default(cuid())
  bookingNumber String @unique

  // Relations
  yachtId String
  yacht   Yacht   @relation(fields: [yachtId], references: [id])
  userId  String?
  user    User?   @relation("YachtBookings", fields: [userId], references: [id])

  // Customer Info
  customerName  String
  customerEmail String
  customerPhone String

  // Booking Details
  bookingDate DateTime
  startTime   String
  duration    Int // hours (1, 2, 3, 4, 8, 12, 24)
  endTime     String

  // Guests
  numberOfGuests Int
  guestNames     Json? // Array of guest names

  // Trip Details
  tripType       String // cruise, party, fishing, diving, event
  departurePoint String
  destination    String?
  route          String? @db.Text

  // Services & Amenities
  includeCatering     Boolean @default(false)
  cateringType        String? // breakfast, lunch, dinner, snacks
  includeWaterSports  Boolean @default(false)
  waterSportsType     Json? // Array of water sports
  includeCrew         Boolean @default(true)
  crewSize            Int?
  includePhotographer Boolean @default(false)
  includeDJ           Boolean @default(false)

  // Pricing
  basePrice        Float
  cateringPrice    Float  @default(0)
  waterSportsPrice Float  @default(0)
  crewPrice        Float  @default(0)
  extraServices    Float  @default(0)
  discount         Float  @default(0)
  totalPrice       Float
  currency         String @default("AED")

  // Payment
  depositAmount Float?
  depositPaid   Boolean @default(false)
  paymentStatus String  @default("pending") // pending, deposit_paid, fully_paid, refunded
  paymentMethod String?
  paymentId     String?

  // Status
  status String @default("pending") // pending, confirmed, in_progress, completed, cancelled

  // Notes
  specialRequests String? @db.Text
  adminNotes      String? @db.Text

  // Weather & Safety
  weatherConditions String?
  safetyBriefing    Boolean @default(false)

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([yachtId])
  @@index([userId])
  @@index([status])
  @@index([bookingDate])
  @@index([bookingNumber])
}

// DOCTOR APPOINTMENT - Rendez-vous Mdicaux
model DoctorAppointment {
  id                String @id @default(cuid())
  appointmentNumber String @unique

  // Relations
  providerId String
  provider   Provider @relation("DoctorAppointments", fields: [providerId], references: [id])
  userId     String?
  user       User?    @relation("DoctorAppointments", fields: [userId], references: [id])

  // Patient Info
  patientName   String
  patientEmail  String
  patientPhone  String
  patientAge    Int?
  patientGender String? // male, female, other

  // Appointment Details
  appointmentDate DateTime
  appointmentTime String
  duration        Int      @default(30) // minutes
  appointmentType String // consultation, follow-up, emergency, telemedicine

  // Medical Details
  specialty          String // general, dentist, dermatologist, etc.
  reasonForVisit     String  @db.Text
  symptoms           String? @db.Text
  medicalHistory     String? @db.Text
  allergies          String? @db.Text
  currentMedications String? @db.Text

  // Insurance
  hasInsurance      Boolean @default(false)
  insuranceProvider String?
  insuranceNumber   String?

  // Pricing
  consultationFee Float
  additionalFees  Float  @default(0)
  discount        Float  @default(0)
  totalPrice      Float
  currency        String @default("AED")

  // Payment
  paymentStatus String  @default("pending") // pending, paid, insurance_pending, refunded
  paymentMethod String?
  paymentId     String?

  // Status
  status String @default("scheduled") // scheduled, confirmed, in_progress, completed, cancelled, no_show

  // Medical Records
  diagnosis    String?   @db.Text
  prescription String?   @db.Text
  labTests     Json? // Array of lab tests ordered
  followUpDate DateTime?

  // Notes
  patientNotes String? @db.Text
  doctorNotes  String? @db.Text
  adminNotes   String? @db.Text

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([providerId])
  @@index([userId])
  @@index([status])
  @@index([appointmentDate])
  @@index([appointmentNumber])
}

// LAWYER CONSULTATION - Consultations Juridiques
model LawyerConsultation {
  id                 String @id @default(cuid())
  consultationNumber String @unique

  // Relations
  providerId String
  provider   Provider @relation("LawyerConsultations", fields: [providerId], references: [id])
  userId     String?
  user       User?    @relation("LawyerConsultations", fields: [userId], references: [id])

  // Client Info
  clientName  String
  clientEmail String
  clientPhone String
  clientType  String // individual, business
  companyName String?

  // Consultation Details
  consultationDate DateTime
  consultationTime String
  duration         Int      @default(60) // minutes
  consultationType String // initial, follow-up, court_appearance, document_review
  meetingType      String // in-person, video, phone
  meetingLink      String? // for video consultations

  // Legal Details
  legalArea       String // family, corporate, criminal, real_estate, immigration, etc.
  caseType        String? // divorce, contract, lawsuit, visa, etc.
  caseDescription String  @db.Text
  urgency         String  @default("normal") // low, normal, high, urgent

  // Documents
  documentsProvided Boolean @default(false)
  documentsList     Json? // Array of document names/types

  // Pricing
  consultationFee   Float
  documentReviewFee Float  @default(0)
  additionalFees    Float  @default(0)
  discount          Float  @default(0)
  totalPrice        Float
  currency          String @default("AED")

  // Payment
  paymentStatus String  @default("pending") // pending, paid, refunded
  paymentMethod String?
  paymentId     String?

  // Status
  status String @default("scheduled") // scheduled, confirmed, in_progress, completed, cancelled, no_show

  // Case Management
  caseOpened   Boolean   @default(false)
  caseNumber   String?
  nextSteps    String?   @db.Text
  followUpDate DateTime?

  // Notes
  clientNotes String? @db.Text
  lawyerNotes String? @db.Text
  adminNotes  String? @db.Text

  // Confidentiality
  confidential Boolean @default(true)
  ndaSigned    Boolean @default(false)

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([providerId])
  @@index([userId])
  @@index([status])
  @@index([consultationDate])
  @@index([consultationNumber])
}

// ACTIVITY BOOKING - Rservations d'Activits
model ActivityBooking {
  id            String @id @default(cuid())
  bookingNumber String @unique

  // Relations
  activityId String
  activity   Activity @relation(fields: [activityId], references: [id])
  userId     String?
  user       User?    @relation("ActivityBookings", fields: [userId], references: [id])

  // Customer Info
  customerName  String
  customerEmail String
  customerPhone String

  // Booking Details
  bookingDate DateTime
  bookingTime String
  duration    String? // from activity

  // Participants
  numberOfAdults   Int   @default(1)
  numberOfChildren Int   @default(0)
  numberOfInfants  Int   @default(0)
  participantNames Json? // Array of participant names
  participantAges  Json? // Array of ages for safety/insurance

  // Activity Details
  difficulty      String? // easy, moderate, hard, extreme
  experienceLevel String? // beginner, intermediate, advanced

  // Equipment & Services
  equipmentRental  Boolean @default(false)
  equipmentList    Json? // Array of rented equipment
  includeTransport Boolean @default(false)
  pickupLocation   String?
  includeMeals     Boolean @default(false)
  mealType         String? // breakfast, lunch, dinner, snacks
  includePhotos    Boolean @default(false)
  includeVideo     Boolean @default(false)

  // Pricing
  pricePerAdult Float
  pricePerChild Float  @default(0)
  equipmentFee  Float  @default(0)
  transportFee  Float  @default(0)
  mealsFee      Float  @default(0)
  photoVideoFee Float  @default(0)
  discount      Float  @default(0)
  totalPrice    Float
  currency      String @default("AED")

  // Payment
  depositAmount Float?
  depositPaid   Boolean @default(false)
  paymentStatus String  @default("pending") // pending, deposit_paid, fully_paid, refunded
  paymentMethod String?
  paymentId     String?

  // Status
  status String @default("pending") // pending, confirmed, in_progress, completed, cancelled

  // Safety & Waivers
  waiverSigned      Boolean @default(false)
  emergencyContact  String?
  emergencyPhone    String?
  medicalConditions String? @db.Text

  // Notes
  specialRequests     String? @db.Text
  dietaryRestrictions String?
  adminNotes          String? @db.Text

  // Weather & Conditions
  weatherDependent  Boolean @default(false)
  weatherConditions String?

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([activityId])
  @@index([userId])
  @@index([status])
  @@index([bookingDate])
  @@index([bookingNumber])
}

// PROPERTY BOOKING - Rservations de Proprits
model PropertyBooking {
  id            String @id @default(cuid())
  bookingNumber String @unique

  // Relations
  propertyId String
  property   Property @relation(fields: [propertyId], references: [id])
  userId     String?
  user       User?    @relation("PropertyBookings", fields: [userId], references: [id])

  // Customer Info
  customerName  String
  customerEmail String
  customerPhone String
  nationality   String?

  // Booking Details
  checkInDate  DateTime
  checkOutDate DateTime
  checkInTime  String   @default("14:00")
  checkOutTime String   @default("12:00")
  nights       Int

  // Guests
  numberOfAdults   Int   @default(1)
  numberOfChildren Int   @default(0)
  numberOfInfants  Int   @default(0)
  guestNames       Json? // Array of guest names

  // Property Type
  propertyType String // villa, apartment, hotel, resort
  bookingType  String // daily, weekly, monthly, yearly

  // Services
  includeBreakfast  Boolean @default(false)
  includeCleaning   Boolean @default(false)
  cleaningFrequency String? // daily, weekly, bi-weekly
  includeAirport    Boolean @default(false)
  airportPickup     Boolean @default(false)
  airportDropoff    Boolean @default(false)

  // Pricing
  pricePerNight Float
  cleaningFee   Float  @default(0)
  serviceFee    Float  @default(0)
  airportFee    Float  @default(0)
  extraGuestFee Float  @default(0)
  discount      Float  @default(0)
  totalPrice    Float
  currency      String @default("AED")

  // Payment
  depositAmount       Float?
  depositPaid         Boolean @default(false)
  securityDeposit     Float?
  securityDepositPaid Boolean @default(false)
  paymentStatus       String  @default("pending") // pending, deposit_paid, fully_paid, refunded
  paymentMethod       String?
  paymentId           String?

  // Status
  status String @default("pending") // pending, confirmed, checked_in, checked_out, cancelled

  // Check-in/out
  actualCheckIn      DateTime?
  actualCheckOut     DateTime?
  keyHandover        Boolean   @default(false)
  propertyInspection Boolean   @default(false)

  // Notes
  specialRequests String? @db.Text
  arrivalTime     String?
  purposeOfStay   String? // vacation, business, event
  adminNotes      String? @db.Text

  // Damage & Issues
  damageReported    Boolean @default(false)
  damageDescription String? @db.Text
  damageAmount      Float?

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([propertyId])
  @@index([userId])
  @@index([status])
  @@index([checkInDate])
  @@index([bookingNumber])
}

// MAID BOOKING - Rservations de Femmes de Mnage
model MaidBooking {
  id            String @id @default(cuid())
  bookingNumber String @unique

  // Relations
  maidId String
  maid   Maid    @relation(fields: [maidId], references: [id])
  userId String?
  user   User?   @relation("MaidBookings", fields: [userId], references: [id])

  // Customer Info
  customerName    String
  customerEmail   String
  customerPhone   String
  customerAddress String

  // Booking Details
  bookingType  String // one-time, recurring
  startDate    DateTime
  endDate      DateTime?
  workingDays  Json? // Array of days for recurring bookings
  workingHours String // full-time, part-time, hourly
  hoursPerDay  Int?

  // Service Details
  serviceType String // cleaning, cooking, babysitting, elderly_care, full_service
  tasks       Json? // Array of specific tasks

  // Property Details
  propertyType String // villa, apartment, office
  bedrooms     Int?
  bathrooms    Int?
  squareMeters Float?
  floors       Int?

  // Requirements
  languageRequired String? // english, arabic, hindi, tagalog, etc.
  experienceYears  Int?
  hasReferences    Boolean @default(false)
  liveIn           Boolean @default(false)

  // Pricing
  salaryType  String // hourly, daily, weekly, monthly
  hourlyRate  Float?
  dailyRate   Float?
  weeklyRate  Float?
  monthlyRate Float?
  totalPrice  Float
  currency    String @default("AED")

  // Payment
  paymentStatus String  @default("pending") // pending, paid, refunded
  paymentMethod String?
  paymentId     String?

  // Status
  status String @default("pending") // pending, confirmed, active, completed, cancelled

  // Contract
  contractSigned Boolean   @default(false)
  contractStart  DateTime?
  contractEnd    DateTime?
  noticePeriod   Int? // days

  // Notes
  specialRequests String? @db.Text
  adminNotes      String? @db.Text

  // Performance
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([maidId])
  @@index([userId])
  @@index([status])
  @@index([startDate])
  @@index([bookingNumber])
}

// SCOOTER BOOKING - Rservations de Scooters
model ScooterBooking {
  id            String @id @default(cuid())
  bookingNumber String @unique

  // Relations
  scooterId String
  scooter   Scooter @relation(fields: [scooterId], references: [id])
  userId    String?
  user      User?   @relation("ScooterBookings", fields: [userId], references: [id])

  // Customer Info
  customerName  String
  customerEmail String
  customerPhone String

  // Driver Info
  driverLicense String
  licenseExpiry DateTime
  driverAge     Int

  // Booking Details
  pickupDate  DateTime
  dropoffDate DateTime
  pickupTime  String
  dropoffTime String
  days        Int

  // Location
  pickupLocation  String
  dropoffLocation String

  // Insurance & Protection
  includeInsurance Boolean @default(true)
  insuranceType    String? // basic, premium, full
  includeHelmet    Boolean @default(true)
  helmetSize       String? // S, M, L, XL

  // Pricing
  pricePerDay  Float
  insuranceFee Float  @default(0)
  helmetFee    Float  @default(0)
  deliveryFee  Float  @default(0)
  discount     Float  @default(0)
  totalPrice   Float
  currency     String @default("AED")

  // Payment
  depositAmount Float?
  depositPaid   Boolean @default(false)
  paymentStatus String  @default("pending") // pending, deposit_paid, fully_paid, refunded
  paymentMethod String?
  paymentId     String?

  // Status
  status String @default("pending") // pending, confirmed, active, completed, cancelled

  // Fuel & Mileage
  fuelLevel    String? // full, half, quarter, empty
  mileageStart Int?
  mileageEnd   Int?

  // Damage & Issues
  damageReported    Boolean @default(false)
  damageDescription String? @db.Text
  damageAmount      Float?

  // Notes
  specialRequests String? @db.Text
  adminNotes      String? @db.Text

  // Ratings
  rating     Float?
  review     String?   @db.Text
  reviewDate DateTime?

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  completedAt DateTime?
  cancelledAt DateTime?

  @@index([scooterId])
  @@index([userId])
  @@index([status])
  @@index([pickupDate])
  @@index([bookingNumber])
}

// SCOOTER MODEL - Location de Scooters
model Scooter {
  id             String           @id @default(cuid())
  name           String
  slug           String           @unique
  brand          String
  model          String
  year           Int
  color          String?
  pricePerDay    Float
  pricePerWeek   Float?
  pricePerMonth  Float?
  currency       String           @default("AED")
  description    String?          @db.Text
  image          String?
  images         Json?
  cityId         String
  countryId      String
  maxSpeed       Int? // km/h
  batteryRange   Int? // km
  weight         Int? // kg
  features       Json?
  isElectric     Boolean          @default(true)
  isActive       Boolean          @default(true)
  isFeatured     Boolean          @default(false)
  isAvailable    Boolean          @default(true)
  views          Int              @default(0)
  bookings       Int              @default(0)
  rating         Float?
  reviewCount    Int              @default(0)
  createdAt      DateTime         @default(now())
  updatedAt      DateTime
  City           City             @relation(fields: [cityId], references: [id])
  Country        Country          @relation(fields: [countryId], references: [id])
  ScooterBooking ScooterBooking[]

  @@index([cityId])
  @@index([countryId])
  @@index([isActive])
  @@index([isFeatured])
  @@index([slug])
  @@index([brand])
}

// Business Claim System
model BusinessClaim {
  id                    String    @id @default(cuid())
  
  // Google Places Data
  googlePlaceId         String?   @unique
  businessName          String
  address               String?
  city                  String?
  state                 String?
  country               String?
  countryCode           String?
  postalCode            String?
  phone                 String?
  internationalPhone    String?
  website               String?
  category              String?
  categoryId            String?
  businessStatus        String?
  
  // Location
  latitude              Float?
  longitude             Float?
  vicinity              String?
  plusCode              String?
  
  // Opening Hours
  openingHours          Json?
  
  // Ratings & Reviews
  rating                Float?
  userRatingsTotal      Int?
  priceLevel            Int?
  
  // Services
  delivery              Boolean?
  dineIn                Boolean?
  takeout               Boolean?
  reservable            Boolean?
  wheelchairAccessible  Boolean?
  
  // Photos
  photos                Json?
  icon                  String?
  
  // Social Media
  facebook              String?
  instagram             String?
  twitter               String?
  linkedin              String?
  youtube               String?
  tiktok                String?
  
  // SEO & Website Analysis
  hasRobotsTxt          Boolean?
  hasSitemap            Boolean?
  sitemapUrl            String?
  websiteAnalysis       Json?
  
  // Complete Google Data
  googleData            Json?
  
  // Claimant Info
  claimantUserId        String?
  claimantName          String
  claimantEmail         String
  claimantPhone         String?
  claimantRole          String    @default("Owner") // Owner, Manager, Employee
  
  // Verification
  verificationMethod    String    @default("email") // email, phone, document
  verificationToken     String?   @unique
  verificationCode      String?
  verificationSentAt    DateTime?
  verificationAttempts  Int       @default(0)
  verifiedAt            DateTime?
  
  // Documents
  documents             Json?     // Array of uploaded document URLs
  
  // Status
  status                String    @default("pending") // pending, verified, approved, rejected
  rejectionReason       String?
  
  // Admin Notes
  adminNotes            String?   @db.Text
  reviewedBy            String?
  reviewedAt            DateTime?
  
  // Timestamps
  createdAt             DateTime  @default(now())
  updatedAt             DateTime  @updatedAt
  
  // Relations
  claimantUser          User?     @relation(fields: [claimantUserId], references: [id])
  
  @@index([googlePlaceId])
  @@index([claimantEmail])
  @@index([claimantUserId])
  @@index([status])
  @@index([createdAt])
}

// ============================================
// CMS SYSTEM: HEADER, NAVBAR, FOOTER
// ============================================

model HeaderConfig {
  id          String   @id @default(cuid())
  locale      String   @unique
  
  // Branding
  logoUrl     String?
  logoText    String?
  logoAlt     String?
  title       String?
  description String?
  
  // CTA Button
  ctaText     String?
  ctaUrl      String?
  ctaColor    String?  @default("#3B82F6")
  
  // Settings
  isSticky    Boolean  @default(true)
  showSearch  Boolean  @default(false)
  bgColor     String?  @default("#FFFFFF")
  textColor   String?  @default("#1F2937")
  
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  @@index([locale])
  @@index([isActive])
}

model NavbarAction {
  id        String   @id @default(cuid())
  locale    String
  label     String
  href      String
  type      String   @default("secondary") // primary, secondary, outline
  icon      String?
  order     Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@index([locale, order])
  @@index([isActive])
}

model FooterSection {
  id          String       @id @default(cuid())
  locale      String
  title       String
  slug        String
  icon        String?
  order       Int          @default(0)
  isActive    Boolean      @default(true)
  
  // Conditional display
  displayOn   String       @default("all") // all, home, specific
  hideOnPages String?      // JSON array of page slugs to hide on
  
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
  
  links       FooterLink[]
  
  @@unique([locale, slug])
  @@index([locale, order])
  @@index([isActive])
}

model FooterLink {
  id          String        @id @default(cuid())
  sectionId   String
  label       String
  href        String
  order       Int           @default(0)
  isActive    Boolean       @default(true)
  isExternal  Boolean       @default(false)
  openNewTab  Boolean       @default(false)
  icon        String?
  badge       String?       // "New", "Hot", "Popular"
  
  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @updatedAt
  
  section     FooterSection @relation(fields: [sectionId], references: [id], onDelete: Cascade)
  
  @@index([sectionId, order])
  @@index([isActive])
}

model SocialLink {
  id        String   @id @default(cuid())
  locale    String
  platform  String   // facebook, twitter, instagram, linkedin, youtube, tiktok, whatsapp
  url       String
  icon      String?
  order     Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@unique([locale, platform])
  @@index([locale, order])
  @@index([isActive])
}

model FooterBranding {
  id           String   @id @default(cuid())
  locale       String   @unique
  platformName String?
  tagline      String?
  logoUrl      String?
  
  // Contact
  email        String?
  phone        String?
  address      String?
  
  // Legal
  copyright    String?
  registrationInfo String?
  disclaimer   String?  @db.Text
  
  // Newsletter
  newsletterTitle       String?
  newsletterDescription String?
  newsletterPlaceholder String?
  newsletterButtonText  String?
  
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  
  @@index([locale])
  @@index([isActive])
}
